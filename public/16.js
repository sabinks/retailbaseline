(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{23:function(e,t,a){var n,r,o;r=[],void 0===(o="function"==typeof(n=function(){return function e(t,a,n){var r,o,l=window,c="application/octet-stream",i=n||c,u=t,s=!a&&!n&&u,m=document.createElement("a"),d=function(e){return String(e)},f=l.Blob||l.MozBlob||l.WebKitBlob||d,b=a||"download";if(f=f.call?f.bind(l):Blob,"true"===String(this)&&(i=(u=[u,i])[0],u=u[1]),s&&s.length<2048&&(b=s.split("/").pop().split("?")[0],m.href=s,-1!==m.href.indexOf(s))){var p=new XMLHttpRequest;return p.open("GET",s,!0),p.responseType="blob",p.onload=function(t){e(t.target.response,b,c)},setTimeout((function(){p.send()}),0),p}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(u)){if(!(u.length>2096103.424&&f!==d))return navigator.msSaveBlob?navigator.msSaveBlob(h(u),b):E(u);i=(u=h(u)).type||c}else if(/([\x80-\xff])/.test(u)){for(var v=0,y=new Uint8Array(u.length),g=y.length;v<g;++v)y[v]=u.charCodeAt(v);u=new f([y],{type:i})}function h(e){for(var t=e.split(/[:;,]/),a=t[1],n=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),r=n.length,o=0,l=new Uint8Array(r);o<r;++o)l[o]=n.charCodeAt(o);return new f([l],{type:a})}function E(e,t){if("download"in m)return m.href=e,m.setAttribute("download",b),m.className="download-js-link",m.innerHTML="downloading...",m.style.display="none",document.body.appendChild(m),setTimeout((function(){m.click(),document.body.removeChild(m),!0===t&&setTimeout((function(){l.URL.revokeObjectURL(m.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,c)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var a=document.createElement("iframe");document.body.appendChild(a),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,c)),a.src=e,setTimeout((function(){document.body.removeChild(a)}),333)}if(r=u instanceof f?u:new f([u],{type:i}),navigator.msSaveBlob)return navigator.msSaveBlob(r,b);if(l.URL)E(l.URL.createObjectURL(r),!0);else{if("string"==typeof r||r.constructor===d)try{return E("data:"+i+";base64,"+l.btoa(r))}catch(e){return E("data:"+i+","+encodeURIComponent(r))}(o=new FileReader).onload=function(e){E(this.result)},o.readAsDataURL(r)}return!0}})?n.apply(t,r):n)||(e.exports=o)},54:function(e,t,a){"use strict";var n=a(7),r=a(20),o=a(27),l=a.n(o),c=a(0),i=a.n(c),u=a(59);var s=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!=typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];e.apply(this,n),t.apply(this,n)}}),null)},m=["as","disabled","onKeyDown"];function d(e){return!e||"#"===e.trim()}var f=i.a.forwardRef((function(e,t){var a=e.as,o=void 0===a?"a":a,l=e.disabled,c=e.onKeyDown,u=Object(r.a)(e,m),f=function(e){var t=u.href,a=u.onClick;(l||d(t))&&e.preventDefault(),l?e.stopPropagation():a&&a(e)};return d(u.href)&&(u.role=u.role||"button",u.href=u.href||"#"),l&&(u.tabIndex=-1,u["aria-disabled"]=!0),i.a.createElement(o,Object(n.a)({ref:t},u,{onClick:f,onKeyDown:s((function(e){" "===e.key&&(e.preventDefault(),f(e))}),c)}))}));f.displayName="SafeAnchor";var b=f,p=["bsPrefix","variant","size","active","className","block","type","as"],v=i.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.variant,c=e.size,s=e.active,m=e.className,d=e.block,f=e.type,v=e.as,y=Object(r.a)(e,p),g=Object(u.a)(a,"btn"),h=l()(m,g,s&&"active",o&&g+"-"+o,d&&g+"-block",c&&g+"-"+c);if(y.href)return i.a.createElement(b,Object(n.a)({},y,{as:v,ref:t,className:l()(h,y.disabled&&"disabled")}));t&&(y.ref=t),f?y.type=f:v||(y.type="button");var E=v||"button";return i.a.createElement(E,Object(n.a)({},y,{className:h}))}));v.displayName="Button",v.defaultProps={variant:"primary",active:!1,disabled:!1};t.a=v},542:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),l=a(9),c=a(54),i=a(5),u=a.n(i),s=a(23),m=a.n(s);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function p(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],l=!0,c=!1;try{for(a=a.call(e);!(l=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{l||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return g(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}t.default=function(){var e=v(Object(n.useState)([]),2),t=e[0],a=e[1],i=v(Object(n.useState)([]),2),s=i[0],d=i[1],y=v(Object(n.useState)([]),2),g=y[0],h=y[1],E=v(Object(n.useState)({category_id:"",from_date:"",to_date:"",bulk_image:0}),2),w=E[0],k=E[1],O=v(Object(n.useState)({id:0}),2),N=O[0],j=O[1],S=v(Object(n.useState)({id:0}),2),_=S[0],A=S[1],C=v(Object(n.useState)(!1),2),D=C[0],T=C[1];Object(n.useEffect)((function(){axios.get("/stock/outward-stock/".concat(N.id)).then((function(e){var t=e.data.item_list;if(t){if("DataTables_Table_0"==$(".dataTable").attr("id"))$(".dataTable").DataTable().destroy();a(t),$(".dataTableReact").DataTable({lengthChange:!0,pageLength:25})}}))}),[N.id]),Object(n.useEffect)((function(){axios.get("/stock/category").then((function(e){var t=e.data.category_list,a=[{id:0,name:"Select All",description:"Select All"}].concat(p(t));h(a)}))}),[]),Object(n.useEffect)((function(){N.id&&axios.get("/stock/item/category/".concat(N.id)).then((function(e){var t=e.data.item_list;d(t)}))}),[N.id]);var P=v(Object(n.useState)(!1),2),R=P[0],x=P[1],I=function(e){k((function(t){return f(f({},t),{},{category_id:e})})),x(!0)},B=function(e){var t=e.target,a=t.name,n=t.value;k((function(e){return f(f({},e),{},b({},a,n))}))},U=function(e){var t=e.target.value;j((function(e){return f(f({},e),{},{id:t})}))};return r.a.createElement("div",{className:"main-card mb-2 card"},r.a.createElement("div",{className:"card-header pb-1 pt-1"},r.a.createElement("div",{className:"card-title col-md-8"},"Outward Stock"),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("select",{className:"form-control",name:"id",onChange:function(e){return U(e,e.target.value)},value:N.id},r.a.createElement("option",{value:"",disable:"true"},"Please choose one"),g.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})))),r.a.createElement("div",{className:"col-md-1"},r.a.createElement("a",{className:"btn btn-success btn-sm mr-1",onClick:function(e){return I(N.id)}},r.a.createElement("i",{className:"fa fa-pencil"})))),r.a.createElement("div",{className:"card-body"},r.a.createElement(l.a,{show:R,onHide:function(){return x(!1)}},r.a.createElement(l.a.Header,{closeButton:!0},r.a.createElement(l.a.Title,null,"Generate Outward Stock Report")),r.a.createElement(l.a.Body,null,r.a.createElement("div",{className:"form-group col-md-8"},r.a.createElement("label",{htmlFor:"name"},"Category Name:"),r.a.createElement("select",{className:"form-control",id:"",onChange:function(e){return U(e,e.target.value)},value:N.id},r.a.createElement("option",{value:"",disable:"true"},"Please select category"),g.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})))),s.length>0&&r.a.createElement("div",{className:"form-group col-md-8"},r.a.createElement("label",{htmlFor:"name"},"Item Name:"),r.a.createElement("select",{className:"form-control",id:"",onChange:function(e){return function(e){var t=e.target.value;A((function(e){return f(f({},e),{},{id:t})}))}(e,e.target.value)},value:_.id},r.a.createElement("option",{value:"",disable:"true"},"Please select item"),s.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})))),r.a.createElement("div",{className:"form-group col-md-8"},r.a.createElement("label",null,"From Date"),r.a.createElement("div",null,r.a.createElement("input",{className:"form-control",type:"date",name:"from_date",value:w.from_date,onChange:function(e){return B(e)}}))),r.a.createElement("div",{className:"form-group col-md-8"},r.a.createElement("label",null,"To Date"),r.a.createElement("div",null,r.a.createElement("input",{className:"form-control",type:"date",name:"to_date",value:w.to_date,onChange:function(e){return B(e)}}))),r.a.createElement("div",{className:"form-check col-md-8"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"bulkImage",name:"bulk_image",checked:w.bulk_image,onChange:function(e){return function(e){var t=e.target.checked;k((function(e){return f(f({},e),{},{bulk_image:t?1:0})}))}(e)}}),r.a.createElement("label",{className:"form-check-label",for:"bulkImage"},"Bulk Image Download"))),r.a.createElement(l.a.Footer,null,r.a.createElement(c.a,{disabled:D,variant:"primary",size:"sm",onClick:function(e){return function(){T(!0);var e=w.from_date,t=w.to_date,a=w.bulk_image;axios.get("/stock/generate-outward-stock-report?category_id=".concat(N.id?N.id:"","&item_id=").concat(_.id?_.id:"","&from_date=").concat(e,"&to_date=").concat(t,"&bulk_image=").concat(a),{responseType:"arraybuffer",headers:{"content-type":"application/zip"}}).then((function(e){var t=e.data;m()(t,"report.zip"),T(!1)})).catch((function(a){var n=a.response.status;if(422==n){var r="";0==N.id&&(r+="\nPlease select category."),0==_.id&&(r+="\nPlease select item."),""==e&&(r+="\nPlease select from date."),""==t&&(r+="\nPlease select to date."),u()("Warning!",r,"error")}404==n&&u()("Warning!","No record found.","error"),T(!1)}))}()}},"Download Report"))),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-striped table-bordered dataTableReact"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"S.N."),r.a.createElement("th",null,"Customer Name"),r.a.createElement("th",null,"Item"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Unique ID"),r.a.createElement("th",null,"Filled By"),r.a.createElement("th",null,"Filled Date"),r.a.createElement("th",null,"Sync Date"),r.a.createElement("th",null,"Document Type"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,t&&t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.item.name),r.a.createElement("td",null,e.item.category.name),r.a.createElement("td",null,e.unique_id),r.a.createElement("td",null,e.staff.name),r.a.createElement("td",null,e.filled_date),r.a.createElement("td",null,e.sync_date),r.a.createElement("td",null,e.document_type.name),r.a.createElement("td",null,e.amount?e.amount:"-"),r.a.createElement("td",null,r.a.createElement("div",{className:"btn-group"},r.a.createElement(o.b,{className:"btn btn-success btn-sm mr-1",to:"/stock/outward-item-detail/".concat(e.id)},r.a.createElement("i",{className:"fa fa-eye"})),r.a.createElement("a",{href:"#!",onClick:function(t){!function(e,t){console.log(t),e.preventDefault(),u()({title:"Warning!",text:"Are you sure to delete inward stock?",icon:"warning",dangerMode:!0}).then((function(e){e&&(T(!0),axios.delete("/stock/outward-stock/".concat(t)).then((function(e){var t=e.data.message;u()("Success!",t,"success"),setTimeout((function(){window.location.replace("/stock/outward-list")}),3e3)})).catch((function(e){var t=e.response.data.message;u()("Warning!",t,"error"),T(!1)})))}))}(t,e.id)},disabled:D,className:"btn btn-danger btn-sm"},r.a.createElement("i",{className:"fa fa-trash-o"})))))})))))))}}}]);