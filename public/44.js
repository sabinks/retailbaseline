(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{545:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(71),l=r.n(o),c=r(91);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var a,n,o=[],l=!0,c=!1;try{for(r=r.call(e);!(l=(a=r.next()).done)&&(o.push(a.value),!t||o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{l||null==r.return||r.return()}finally{if(c)throw n}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var f=function(){var e=m(Object(a.useState)([]),2),t=e[0],r=e[1],o=m(Object(a.useState)({}),2),i=o[0],s=o[1],d=m(Object(a.useState)(!0),2),f=d[0],p=d[1],b=m(Object(a.useState)({id:localStorage.getItem("catId")?localStorage.getItem("catId"):0}),2),y=b[0],g=b[1];return Object(a.useEffect)((function(){axios.get("/stock/category").then((function(e){var t=e.data.category_list;r(t)}))}),[]),Object(a.useEffect)((function(){axios.get("/stock/stock-register/".concat(y.id)).then((function(e){var t=e.data.item_list,r=[],a=[],n=[],o=[];t.map((function(e){r.push(e.name),a.push(e.sum_inward_stock.length?e.sum_inward_stock[0].quantity:0),n.push(e.sum_outward_stock.length?e.sum_outward_stock[0].quantity:0),o.push((e.sum_inward_stock.length?e.sum_inward_stock[0].quantity:0)-(e.sum_outward_stock.length?e.sum_outward_stock[0].quantity:0))})),s({labels:r,datasets:[{label:"Total Stock",backgroundColor:"blue",data:a},{label:"Outward Stock",backgroundColor:"orange",hoverBackgroundColor:"orange",data:n},{label:"Remaining Stock",backgroundColor:"gray",hoverBackgroundColor:"gray",data:o}]}),p(!1)}))}),[y.id]),n.a.createElement("div",null,f&&n.a.createElement(l.a,{type:"spin",color:"gray",height:"10%",width:"10%"}),!f&&i&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"col-md-3"},"Select Category",n.a.createElement("select",{className:"form-control",name:"id",onChange:function(e){return function(e){var t=e.target.value;localStorage.setItem("catId",t),g((function(e){return u(u({},e),{},{id:t})}))}(e)},value:y.id},n.a.createElement("option",{value:"",disable:"true"},"Choose Category:"),n.a.createElement("option",{value:"0"},"Select All"),t.map((function(e,t){return n.a.createElement("option",{key:t,value:e.id},e.name)})))),n.a.createElement(c.a,{data:i,width:null,height:null,options:{responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!0,text:"Stock Summary"}}}})))};function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var a,n,o=[],l=!0,c=!1;try{for(r=r.call(e);!(l=(a=r.next()).done)&&(o.push(a.value),!t||o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{l||null==r.return||r.return()}finally{if(c)throw n}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var y=function(){var e=p(Object(a.useState)({absent_staff:0,present_staff:0,no_attendance:0}),2),t=(e[0],e[1]),r=p(Object(a.useState)({}),2),o=r[0],i=r[1],u=p(Object(a.useState)(!0),2),s=u[0],m=u[1];return Object(a.useEffect)((function(){axios.get("pie-chart-staff-attendance").then((function(e){var r=e.data,a=r.absent_staff,n=r.present_staff,o=r.no_attendance;t({present_staff:n,absent_staff:a,no_attendance:o}),i({labels:["Present","Absent","No Attendance"],datasets:[{label:"Staff Attendance",data:[n,a,o],backgroundColor:["blue","orange","gray"],borderColor:["blue","orange","gray"],borderWidth:1,animation:!1}]}),m(!1)}))}),[]),n.a.createElement("div",null,s&&n.a.createElement(l.a,{type:"spin",color:"gray",height:"25%",width:"25%"}),!s&&o&&n.a.createElement(c.b,{data:o,options:{responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!0,text:"Staff Attendance"}}}}))};function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var a,n,o=[],l=!0,c=!1;try{for(r=r.call(e);!(l=(a=r.next()).done)&&(o.push(a.value),!t||o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{l||null==r.return||r.return()}finally{if(c)throw n}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var j=function(){var e=E(Object(a.useState)(!0),2),t=e[0],r=e[1],o=E(Object(a.useState)(!0),2),c=o[0],i=o[1],u=E(Object(a.useState)({total_approved:0,total_pending:0,total_rejected:0}),2),s=u[0],m=u[1],d=E(Object(a.useState)({id:localStorage.getItem("formId")?localStorage.getItem("catId"):0}),2),f=d[0],p=d[1],b=E(Object(a.useState)([]),2),y=b[0],g=b[1];return Object(a.useEffect)((function(){axios.get("/superadmin/entity-form").then((function(e){var t=e.data.form_list;g(t),r(!1)}))}),[]),Object(a.useEffect)((function(){axios.get("/superadmin/entity-count/".concat(f.id)).then((function(e){var t=e.data,r=t.total_approved,a=t.total_pending,n=t.total_rejected;m({total_approved:r,total_pending:a,total_rejected:n}),i(!1)}))}),[f.id]),n.a.createElement("div",null,c&&n.a.createElement(l.a,{type:"spin",color:"gray",height:"9%",width:"9%"}),!t&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-3"},"Select Entity Form",n.a.createElement("select",{className:"form-control",name:"id",onChange:function(e){return function(e){var t=e.target.value;localStorage.setItem("formId",t),p((function(e){return v(v({},e),{},{id:t})}))}(e)},value:f.id},n.a.createElement("option",{value:"",disable:"true"},"Choose Form:"),n.a.createElement("option",{value:"0"},"Select All"),y&&y.map((function(e,t){return n.a.createElement("option",{key:t,value:e.id},e.title)})))))),!c&&s&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row mt-3"},n.a.createElement("div",{className:"col-md-4"},n.a.createElement("div",{className:"card text-white bg-success mb-3 text-center",style:{maxWidth:"18rem"}},n.a.createElement("div",{className:"card-header"},n.a.createElement("h5",null,"Total Approved")),n.a.createElement("div",{className:"card-body"},n.a.createElement("h1",{className:""},s.total_approved)))),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("div",{className:"card text-white bg-warning mb-3 text-center",style:{maxWidth:"18rem"}},n.a.createElement("div",{className:"card-header"},n.a.createElement("h5",null,"Total Pending")),n.a.createElement("div",{className:"card-body"},n.a.createElement("h1",{className:""},s.total_pending)))),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("div",{className:"card text-white bg-danger mb-3 text-center",style:{maxWidth:"18rem"}},n.a.createElement("div",{className:"card-header"},n.a.createElement("h5",null,"Total Rejected")),n.a.createElement("div",{className:"card-body"},n.a.createElement("h1",{className:""},s.total_rejected)))))))};function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var a,n,o=[],l=!0,c=!1;try{for(r=r.call(e);!(l=(a=r.next()).done)&&(o.push(a.value),!t||o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{l||null==r.return||r.return()}finally{if(c)throw n}}return o}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var P=function(){var e=N(Object(a.useState)(!0),2),t=e[0],r=e[1],o=N(Object(a.useState)([]),2),i=o[0],u=o[1],s=N(Object(a.useState)([]),2),m=s[0],d=s[1],f=N(Object(a.useState)({id:localStorage.getItem("reportFormId")?localStorage.getItem("reportFormId"):0}),2),p=f[0],b=f[1];return Object(a.useEffect)((function(){axios.get("/report-forms").then((function(e){var t=e.data,r=t.form_list,a=t.assigned_report_forms_list;d([].concat(_(r),_(a)))}))}),[]),Object(a.useEffect)((function(){axios.get("daily-report-count/".concat(p.id)).then((function(e){var t=e.data,a=t.data,n=t.date,o=[],l=[],c=[];a&&a.map((function(e){o.push(e.day+"-"+e.weekday.slice(0,3)),c.push(e.day),l.push(e.count)}));var i={labels:o,datasets:[{label:"Report Data Count - (".concat(n,")"),backgroundColor:"blue",data:l}]};u(i),r(!1)}))}),[p.id]),n.a.createElement("div",null,t&&n.a.createElement(l.a,{type:"spin",color:"gray",height:"10%",width:"10%"}),!t&&i&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"col-md-3"},"Select Report Form",n.a.createElement("select",{className:"form-control",name:"id",onChange:function(e){return function(e){var t=e.target.value;localStorage.setItem("reportFormId",t),b((function(e){return S(S({},e),{},{id:t})}))}(e)},value:p.id},n.a.createElement("option",{value:"",disable:"true"},"Choose Report Form:"),n.a.createElement("option",{value:"0"},"Select All"),m.length>0&&m.map((function(e,t){return n.a.createElement("option",{key:t,value:e.id},e.title)})))),n.a.createElement(c.a,{data:i,width:null,height:null,options:{responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!0,text:"Daily Report Data Count"}}}})))};function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var a,n,o=[],l=!0,c=!1;try{for(r=r.call(e);!(l=(a=r.next()).done)&&(o.push(a.value),!t||o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{l||null==r.return||r.return()}finally{if(c)throw n}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}t.default=function(){var e=x(Object(a.useState)({name:"",role:""}),2),t=e[0],r=e[1],o=x(Object(a.useState)(!0),2),l=(o[0],o[1]);return Object(a.useEffect)((function(){axios.get("user-details").then((function(e){var t=e.data,a=t.name,n=t.role;r({name:a,role:n}),l(!1)}))}),[]),Object(a.useEffect)((function(){}),[]),n.a.createElement(a.Fragment,null,n.a.createElement("div",{className:"app-page-title"},n.a.createElement("div",{className:"page-title-wrapper"},n.a.createElement("div",{className:"page-title-heading"},n.a.createElement("div",{className:"page-title-icon"},n.a.createElement("i",{className:"fa fa-tachometer"})),n.a.createElement("div",null,"Welcome ",t.name)))),n.a.createElement("div",{className:"main-card mb-3 card"},n.a.createElement("div",{className:"card-body"},("Admin"==t.role||"Regional Admin"==t.role||"Supervisor"==t.role)&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-3"},n.a.createElement(y,null)),n.a.createElement("div",{className:"col-md-2"}),n.a.createElement("div",{className:"col-md-6"},n.a.createElement(f,null))),n.a.createElement("br",null),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-9"},n.a.createElement(P,null)))),"Super Admin"==t.role&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-3 justify-content-center"},n.a.createElement(y,null)),n.a.createElement("div",{className:"col-md-2"}),n.a.createElement("div",{className:"col-md-6"},n.a.createElement(j,null))),n.a.createElement("br",null),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-9"},n.a.createElement(P,null)))))))}}}]);