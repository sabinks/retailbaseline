(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{16:function(e,t,r){"use strict";r.d(t,"e",(function(){return a})),r.d(t,"f",(function(){return n})),r.d(t,"d",(function(){return c})),r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i}));var a=function(e){switch(e){case 1:return"Assigned";case 2:return"Pending";case 3:return"Approved";case 4:return"Rejected"}},n=function(e){switch(e){case 1:return"Assigned";case 2:return"Approved";case 3:return"Rejected"}},c=function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},l=function(e){return e.substr(0,10)},o=function(){var e=new Date,t=e.getFullYear(),r=e.getMonth()+1,a=e.getDate();return t+"-"+(r=r<10?"0".concat(r):r)+"-"+(a=a<10?"0".concat(a):a)},i=function(){var e=new Date;e.setDate(e.getDate()+1);var t=e.getFullYear(),r=e.getMonth()+1,a=e.getDate();return t+"-"+(r=r<10?"0".concat(r):r)+"-"+(a=a<10?"0".concat(a):a)}},505:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(4),l=r.n(c),o=r(6),i=r(5),u=r.n(i),s=r(14),m=r(16);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var a,n,c=[],l=!0,o=!1;try{for(r=r.call(e);!(l=(a=r.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,n=e}finally{try{l||null==r.return||r.return()}finally{if(o)throw n}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var E=document.getElementById("route").getAttribute("url");t.default=function(){Object(s.f)();var e=b(Object(a.useState)({report_detail:null,role:null,loading:!0,can_update:!1,id:null}),2),t=e[0],r=e[1];Object(a.useEffect)((function(){var e=window.location.pathname.replace("/report-info/detail/","");c(e)}),[]);var c=function(e){l.a.get("/report-data-detail/".concat(e)).then((function(e){var t=e.data,a=t.report_detail,n=t.role,c=t.can_update;r((function(e){return p(p({},e),{},{report_detail:a,can_update:c,loading:!1,role:n})}))}))},i=function(e){var a={status:e};l.a.patch("/report-data/".concat(t.report_detail.id),a).then((function(e){var t=e.data,a=t.message,n=t.report_detail,c=t.role;r((function(e){return p(p({},e),{},{report_detail:n,loading:!1,role:c})})),u()("Success!",a,"success")})).catch((function(e){var t=e.response.data.message;u()("warning!",t,"error")}))};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"main-card card mb-1"},n.a.createElement("div",{className:"card-body pb-0"},n.a.createElement("h4",null,"Report Detail:")),n.a.createElement("div",{className:"card-body"},t.report_detail&&n.a.createElement(o.b,{className:"btn btn-secondary btn-sm",to:"/report-info/view/".concat(t.report_detail.id)},"View Report Data"))),n.a.createElement("div",{className:"main-card card"},!t.loading&&n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row mb-3"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("h5",null,"Report Title: ",n.a.createElement("b",null,t.report_detail.report_title))),n.a.createElement("div",{className:""},"Report Status: ",n.a.createElement("b",null,Object(m.e)(t.report_detail.status))),t.can_update&&n.a.createElement("div",{className:"col-md-6"},n.a.createElement("button",{className:"btn btn-sm btn-success mr-1",onClick:function(e){return i("approved")}},"Approve"),n.a.createElement("button",{className:"btn btn-sm btn-danger mr-1",onClick:function(e){return i("rejected")}},"Reject"))),n.a.createElement("div",{className:"row mb-3"},n.a.createElement("div",{className:"col-md-6 float-left"},n.a.createElement("h5",null,"Entity Detail:"),n.a.createElement("p",{className:"mb-0"},"Entity Name: ",n.a.createElement("b",null,t.report_detail.entity_name)),n.a.createElement("p",{className:"mb-0"},"Entity Latitude: ",n.a.createElement("b",null,t.report_detail.entity_latitude)),n.a.createElement("p",{className:"mb-0"},"Entity longitude: ",n.a.createElement("b",null,t.report_detail.entity_longitude)))),n.a.createElement("div",{className:"row mt-2 mb-2"},n.a.createElement("div",{className:"col-md-6"},t.report_detail.reportdata_data?n.a.createElement("h5",null,"Filled By:"):n.a.createElement("h5",null,"Assigned To:"),n.a.createElement("p",{className:"mb-0"},"Staff Name: ",n.a.createElement("b",null,t.report_detail.staff_name)),n.a.createElement("p",{className:"mb-0"},"Staff Email: ",n.a.createElement("b",null,t.report_detail.staff_email)),n.a.createElement("p",{className:"mb-0"},"Staff Address: ",n.a.createElement("b",null,t.report_detail.staff_address))),n.a.createElement("div",{className:"col-md-6"},t.report_detail.staff_image?n.a.createElement("img",{src:"".concat(E,"/images/profiles/").concat(t.report_detail.staff_image),width:"300px"}):n.a.createElement("img",{src:"".concat(E,"/images/user.png"),width:"200px"}))))))}}}]);