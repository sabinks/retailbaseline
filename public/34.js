(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{13:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i}));var n=function(e){switch(e){case 1:return"Assigned";case 2:return"Pending";case 3:return"Approved";case 4:return"Rejected"}},r=function(e){switch(e){case 1:return"Assigned";case 2:return"Approved";case 3:return"Rejected"}},c=function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},l=function(e){return e.substr(0,10)},o=function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate();return t+"-"+(a=a<10?"0".concat(a):a)+"-"+(n=n<10?"0".concat(n):n)},i=function(){var e=new Date;e.setDate(e.getDate()+1);var t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate();return t+"-"+(a=a<10?"0".concat(a):a)+"-"+(n=n<10?"0".concat(n):n)}},654:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),l=a.n(c),o=a(5),i=a.n(o),s=a(18),u=a(13);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){f(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,c=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var g=document.getElementById("route").getAttribute("url");t.default=function(){Object(s.f)();var e=Object(s.g)().id;console.log(e);var t=p(Object(n.useState)({id:e,title:"",status:"",loading:!0,role:null,image_path:"",can_update:!1,entity_name:"",url:"http://localhost:8000"}),2),a=t[0],c=t[1],o=p(Object(n.useState)([]),2),m=o[0],f=o[1],b=p(Object(n.useState)([]),2),v=b[0],y=b[1],h=p(Object(n.useState)([]),2);h[0],h[1];Object(n.useEffect)((function(){console.log(e),E(e)}),[]);var E=function(e){l.a.get("/report-data/".concat(e)).then((function(t){g=window.location.origin;var a=t.data,n=a.question,r=a.answer,l=a.image_path,o=a.status,i=a.role,s=a.title,u=a.can_update,m=a.entity_name;f(r),y(n),c((function(t){return d({},t,{id:e,title:s,status:o,url:g,entity_name:m,image_path:l,can_update:u,role:i,loading:!1})}))})).catch((function(e){var t=e.response.data.message;i()("Warning!",t,"error"),f([]),y([]),c((function(e){return d({},e,{loading:!1})}))}))},w=function(e){var t={status:e};l.a.patch("/report-data/".concat(a.id),t).then((function(e){var t=e.data,a=t.message,n=t.report_detail,r=t.role;c((function(e){return d({},e,{status:n.status,loading:!1,role:r})})),i()("Success!",a,"success")})).catch((function(e){var t=e.response.data.message;i()("warning!",t,"error")}))};return r.a.createElement(r.a.Fragment,null,m.length>0?r.a.createElement("div",null,r.a.createElement("div",{className:"main-card card mb-1"},r.a.createElement("div",{className:"card-body pb-0 pt-2"},r.a.createElement("h4",null,"Report Data View")),!a.loading&&r.a.createElement("div",{className:"card-body pb-0 pt-2"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h6",null,"Entity: ",r.a.createElement("b",null,a.entity_name))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h6",null,"Title: ",r.a.createElement("b",null,a.title))),r.a.createElement("div",{className:"col-md-3"},"Report Status: ",r.a.createElement("b",null,Object(u.e)(a.status))),a.can_update&&r.a.createElement("div",{className:"col-md-3"},r.a.createElement("button",{className:"btn btn-sm btn-success mr-1 float-right",onClick:function(e){return w("approved")}},"Approve"),r.a.createElement("button",{className:"btn btn-sm btn-danger mr-1 float-right",onClick:function(e){return w("rejected")}},"Reject"))))),r.a.createElement("div",{className:"main-card card"},r.a.createElement("div",{className:"col-md-12 mb-0 pb-0 pt-2 float-left"},v.length>0&&m.length>0&&v.map((function(e,t){return r.a.createElement("div",{key:t,className:""},r.a.createElement("div",{className:"mb-2 card p-2",style:{display:"Header"!=e.element&&"none"}},r.a.createElement("div",{className:"text-primary"},e.label)),r.a.createElement("div",{className:"mb-2 card p-2 text-primary",style:{display:"Camera"!=e.element&&"none"}},r.a.createElement("div",{className:"mb-1"},"Q ) ",e.label),r.a.createElement("div",null,r.a.createElement("img",{className:"img-thumbnail",src:"".concat(a.url,"/").concat(a.image_path,"/").concat(m[t]),alt:m[t]}))),r.a.createElement("div",{className:"mb-2 card p-2",style:{display:("Camera"==e.element||"Header"==e.element)&&"none"}},r.a.createElement("div",{className:"mb-1 text-primary"},"Q ) ",e.label),r.a.createElement("div",{className:"text-success"},"A ) ",m[t])))}))))):r.a.createElement("div",{className:"alert alert-info",role:"alert"},"Data fill pending from field staff!"))}}}]);