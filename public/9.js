(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{22:function(e,t,r){e.exports=r(341)},341:function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r,n){var a=t&&t.prototype instanceof u?t:u,o=Object.create(a.prototype),i=new H(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return F()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=g(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,i),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function u(){}function f(){}function h(){}var d={};d[a]=function(){return this};var p=Object.getPrototypeOf,m=p&&p(p(E([])));m&&m!==t&&r.call(m,a)&&(d=m);var v=h.prototype=u.prototype=Object.create(d);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function b(e){var t;this._invoke=function(n,a){function o(){return new Promise((function(t,o){!function t(n,a,o,i){var c=l(e[n],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,o,i)}),(function(e){t("throw",e,o,i)})):Promise.resolve(u).then((function(e){s.value=e,o(s)}),(function(e){return t("throw",e,o,i)}))}i(c.arg)}(n,a,t,o)}))}return t=t?t.then(o,o):o()}}function g(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function H(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:F}}function F(){return{value:void 0,done:!0}}return f.prototype=v.constructor=h,h.constructor=f,h[i]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,i in e||(e[i]="GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,r,n,a){var o=new b(c(t,r,n,a));return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),v[i]="Generator",v[a]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=E,H.prototype={constructor:H,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},35:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=[{key:"Header",name:"Header Text",icon:"fa fa-header",static:!0,content:"Placeholder Text...",canHaveOptionValue:!1,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"Dropdown",canHaveAnswer:!0,name:"Dropdown",icon:"fa fa-caret-square-o-down",label:"Placeholder Label",field_name:"dropdown_",options:[],canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1,dirty:!1},{key:"Tags",canHaveAnswer:!0,name:"Multi-select Dropdown",icon:"fa fa-tags",label:"Placeholder Label",field_name:"tags_",options:[],canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"Checkboxes",canHaveAnswer:!0,name:"Checkboxes",icon:"fa fa-check-square-o",label:"Placeholder Label",field_name:"checkboxes_",options:[],canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"RadioButtons",canHaveAnswer:!0,name:"Radio Buttons",icon:"fa fa-dot-circle-o",label:"Placeholder Label",field_name:"radiobuttons_",options:[],canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"TextInput",canHaveAnswer:!0,name:"Text Input",label:"Placeholder Label",icon:"fa fa-font",field_name:"text_input_",canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"NumberInput",canHaveAnswer:!0,name:"Number Input",label:"Placeholder Label",icon:"fa fa-plus",field_name:"number_input_",canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"TextArea",canHaveAnswer:!0,name:"Multi-line Input",label:"Placeholder Label",icon:"fa fa-text-height",field_name:"text_area_",canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"DatePicker",canDefaultToday:!0,canReadOnly:!0,dateFormat:"MM/dd/yyyy",timeFormat:"hh:mm aa",showTimeSelect:!1,showTimeSelectOnly:!1,name:"Date",icon:"fa fa-calendar",label:"Placeholder Label",field_name:"date_picker_",canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"Camera",name:"Camera",icon:"fa fa-camera",label:"Placeholder Label",field_name:"camera_",canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1}]},693:function(e,t,r){"use strict";r.r(t);var n=r(22),a=r.n(n),o=r(4),i=r.n(o),c=r(6),l=r(0),s=r.n(l),u=r(25),f=r(35),h=[{id:"4AE9F780-A6DC-4099-8BC7-B9A48D559AD4",element:"TextInput",text:"Text Input",required:!0,canHaveAnswer:!0,canHavePageBreakBefore:!1,canHaveAlternateForm:!1,canHaveDisplayHorizontal:!1,canHaveOptionCorrect:!1,canHaveOptionValue:!0,field_name:"text_input_F8FE64B1-5A21-4770-B218-2C0158FFAD28",label:"Vendor Name ",dirty:!0}],d=r(5),p=r.n(d);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(E,e);var t,r,n,o,l,d,m=(t=E,function(){var e,r=H(t);if(_()){var n=H(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return g(this,e)});function E(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E),(e=m.call(this)).state={form_title:"",client_id:"",toolbarItems:f.a,inputData:{task_data:h},errors:[],role:null,companies:null},e.onPost=e.onPost.bind(w(e)),e.handleFieldChange=e.handleFieldChange.bind(w(e)),e.handleClickSave=e.handleClickSave.bind(w(e)),e.hasErrorFor=e.hasErrorFor.bind(w(e)),e.renderErrorFor=e.renderErrorFor.bind(w(e)),e}return r=E,(n=[{key:"handleFieldChange",value:function(e){var t,r,n;this.setState((t={},r=e.target.name,n=e.target.value,r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t))}},{key:"hasErrorFor",value:function(e){return!!this.state.errors&&this.state.errors[e]}},{key:"renderErrorFor",value:function(e){if(this.hasErrorFor(e))return"inputs"==e?s.a.createElement("a",{className:"alert alert-danger"},this.state.errors[e][0]):s.a.createElement("a",{className:"text-danger"},this.state.errors[e][0])}},{key:"componentDidMount",value:(l=a.a.mark((function e(){var t,r,n=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("/entities-forms/create");case 3:(t=e.sent)&&(r=function(){$("div.btn-school").addClass(["btn-outline-dark"]),$("input[name=camera_F744BA9F-AB13-4012-BE55-F0467C30A534]").closest(".SortableItem.rfb-item").find(".is-isolated.fa.fa-trash-o").parent().hide(),$("input[name=text_input_DD26AA9E-EEF0-454A-B961-7DEEEF974E35]").closest(".SortableItem.rfb-item").find(".is-isolated.fa.fa-trash-o").parent().hide(),$("input[name=text_input_F8FE64B1-5A21-4770-B218-2C0158FFAD28]").closest(".SortableItem.rfb-item").find(".is-isolated.fa.fa-trash-o").parent().hide()},"Super Admin"==t.data.role?this.setState({role:t.data.role,companies:t.data.companies}):"Admin"!=t.data.role&&"Regional Admin"!=t.data.role||this.setState({role:t.data.role}),$(".clientSelect").select2({placeholder:"Select Client",allowClear:!0}),$("#client_id").on("change",(function(e){return n.handleFieldChange(e)})),r(),$(".Sortable").each((function(){new MutationObserver((function(){r()})).observe(this,{childList:!0,subtree:!0})})),$(".edit-form").each((function(){new MutationObserver((function(){$(".edit-form").find("label").filter((function(){return"Read only"===$(this).text()})).parent().hide(),$(".edit-form .dynamic-option-list .col-sm-2").filter((function(){return"Value"===$(this).text()})).hide(),$(".edit-form").find("label[for=optionsApiUrl]").parent().hide(),$(".edit-form").find('input[name^="value_"]').hide(),$(".edit-form").find(".rdw-editor-toolbar").hide()})).observe(this,{childList:!0,subtree:!0})}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})),d=function(){var e=this,t=arguments;return new Promise((function(r,n){var a=l.apply(e,t);function o(e){v(a,r,n,o,i,"next",e)}function i(e){v(a,r,n,o,i,"throw",e)}o(void 0)}))},function(){return d.apply(this,arguments)})},{key:"onPost",value:function(e){var t=!1;e.task_data.map((function(e){void 0!==e||(t=!0)})),t?this.props.history.push("/entities-form/create"):this.setState({inputData:e})}},{key:"handleClickSave",value:function(e){var t=this;e.preventDefault();var r={form_title:this.state.form_title,client_id:this.state.client_id,inputs:this.state.inputData?JSON.stringify(this.state.inputData.task_data):null},n=this.props.history;i.a.post("/entities-forms",r).then((function(e){p()("Successful!!","From successfully created","success"),n.push("/entities-form")})).catch((function(e){console.log(e.response),p()("Oops...","Something went wrong!","error"),t.setState({errors:e.response.data.errors})}))}},{key:"render",value:function(){var e=this.state,t=(e.inputData,e.toolbarItems),r=e.role,n=e.companies;return s.a.createElement(s.a.Fragment,null,t&&"Field Staff"!==r&&null!==r&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"main-card mb-3 card"},s.a.createElement("div",{className:"card-header"},"Create Form using Toolbar ",s.a.createElement("br",null)),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-lg-12 col-sm-12 col-12"},s.a.createElement("label",{htmlFor:"form_title"},"Form Title"),s.a.createElement("input",{onChange:this.handleFieldChange,value:this.state.form_title,className:"form-control",id:"form_title",name:"form_title"}),this.renderErrorFor("form_title")),"Super Admin"==r&&s.a.createElement("div",{className:"form-group col-lg-6 col-sm-6 col-12 "},s.a.createElement("select",{className:"clientSelect form-control",value:this.state.client_id,id:"client_id",name:"client_id"},s.a.createElement("option",null),n.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.company_name)}))),this.renderErrorFor("client_id"))))),s.a.createElement("div",{className:"main-card mb-3 card"},s.a.createElement("div",{className:"card-header"},"You can only change the label name of default input fields")),this.renderErrorFor("inputs"),s.a.createElement(u.ReactFormBuilder,{url:"/form_data/default_entity_form_inputs.json",toolbarItems:t,onPost:this.onPost})),s.a.createElement(c.b,{className:"btn btn-secondary pull-right mr-3",to:"/entities-form/"},"Cancel"),"Field Staff"!==r&&s.a.createElement("button",{onClick:this.handleClickSave,className:"btn btn-primary pull-right mr-3",style:{marginRight:"10px"},id:"button-save"},"Save Form"))}}])&&y(r.prototype,n),o&&y(r,o),E}(l.Component);t.default=E}}]);