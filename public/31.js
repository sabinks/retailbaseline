(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{35:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var n=[{key:"Header",name:"Header Text",icon:"fa fa-header",static:!0,content:"Placeholder Text...",canHaveOptionValue:!1,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"Dropdown",canHaveAnswer:!0,name:"Dropdown",icon:"fa fa-caret-square-o-down",label:"Placeholder Label",field_name:"dropdown_",options:[],canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1,dirty:!1},{key:"Tags",canHaveAnswer:!0,name:"Multi-select Dropdown",icon:"fa fa-tags",label:"Placeholder Label",field_name:"tags_",options:[],canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"Checkboxes",canHaveAnswer:!0,name:"Checkboxes",icon:"fa fa-check-square-o",label:"Placeholder Label",field_name:"checkboxes_",options:[],canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"RadioButtons",canHaveAnswer:!0,name:"Radio Buttons",icon:"fa fa-dot-circle-o",label:"Placeholder Label",field_name:"radiobuttons_",options:[],canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"TextInput",canHaveAnswer:!0,name:"Text Input",label:"Placeholder Label",icon:"fa fa-font",field_name:"text_input_",canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"NumberInput",canHaveAnswer:!0,name:"Number Input",label:"Placeholder Label",icon:"fa fa-plus",field_name:"number_input_",canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"TextArea",canHaveAnswer:!0,name:"Multi-line Input",label:"Placeholder Label",icon:"fa fa-text-height",field_name:"text_area_",canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"DatePicker",canDefaultToday:!0,canReadOnly:!0,dateFormat:"MM/dd/yyyy",timeFormat:"hh:mm aa",showTimeSelect:!1,showTimeSelectOnly:!1,name:"Date",icon:"fa fa-calendar",label:"Placeholder Label",field_name:"date_picker_",canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"Camera",name:"Camera",icon:"fa fa-camera",label:"Placeholder Label",field_name:"camera_",canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1}]},508:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(6),l=t(29),i=t(35),c=t(5),s=t.n(c),u=t(4),f=t.n(u);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function p(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?d(Object(t),!0).forEach((function(a){b(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function b(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function v(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,r,o=[],l=!0,i=!1;try{for(t=t.call(e);!(l=(n=t.next()).done)&&(o.push(n.value),!a||o.length!==a);l=!0);}catch(e){i=!0,r=e}finally{try{l||null==t.return||t.return()}finally{if(i)throw r}}return o}(e,a)||h(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,a){if(e){if("string"==typeof e)return H(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?H(e,a):void 0}}function H(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}a.default=function(){var e=y(Object(n.useState)({title:"",entity_id:"",creator_id:null,client_id:null,toolbarItems:v(i.a),errors:[],role:null,company:null,entities_list:[]}),2),a=e[0],t=e[1],c=y(Object(n.useState)([]),2),u=c[0],d=c[1];function h(){$("div.btn-school").addClass(["btn-outline-dark"]),$("input[name=camera_F744BA9F-AB13-4012-BE55-F0467C30A534]").closest(".SortableItem.rfb-item").find(".is-isolated.fa.fa-trash-o").parent().hide(),$("input[name=text_input_DD26AA9E-EEF0-454A-B961-7DEEEF974E35]").closest(".SortableItem.rfb-item").find(".is-isolated.fa.fa-trash-o").parent().hide(),$("input[name=text_input_F8FE64B1-5A21-4770-B218-2C0158FFAD28]").closest(".SortableItem.rfb-item").find(".is-isolated.fa.fa-trash-o").parent().hide()}Object(n.useEffect)((function(){var e=window.location.pathname.replace("/report-form/","");f.a.get("/report/".concat(e,"/edit")).then((function(e){var n=e.data.report,r=n.role,o=n.company,l=n.data,i=n.creator_id,c=n.client_id,s=n.title,u=n.id;t(p(p({},a),{},{role:r,company:o,creator_id:i,client_id:c,title:s,id:u})),d(JSON.parse(l)),$(".clientSelect").select2({placeholder:"Select Client",allowClear:!0}),$("#client_id").on("change",(function(e){return H(e)})),$("body").on("DOMSubtreeModified",".Sortable",(function(){h()})),h(),$(".Sortable").each((function(){new MutationObserver((function(){h()})).observe(this,{childList:!0,subtree:!0})})),$(".edit-form").each((function(){new MutationObserver((function(){$(".edit-form").find("label").filter((function(){return"Read only"===$(this).text()})).parent().hide(),$(".edit-form .dynamic-option-list .col-sm-2").filter((function(){return"Value"===$(this).text()})).hide(),$(".edit-form").find("label[for=optionsApiUrl]").parent().hide(),$(".edit-form").find('input[name^="value_"]').hide(),$(".edit-form").find(".rdw-editor-toolbar").hide()})).observe(this,{childList:!0,subtree:!0})}))})).catch((function(e){var a=e.response.data.message;s()("Warning!",a,"error"),setTimeout((function(){window.location.replace("/report-form")}),3e3)}))}),[]);var H=function(e){var n=e.target,r=n.name,o=n.value;t(p(p({},a),{},b({},r,o)))},O=function(e){if(function(e){return!!a.errors&&a.errors[e]}(e))return"inputs"==e?r.a.createElement("a",{className:"alert alert-danger"},a.errors[e][0]):r.a.createElement("a",{className:"text-danger"},a.errors[e][0])};return r.a.createElement("div",null,a.toolbarItems&&"Field Staff"!=a.role&&null!==a.role&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-card mb-3 card"},r.a.createElement("div",{className:"card-header"},"Create Form using Toolbar ",r.a.createElement("br",null)),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-lg-12 col-sm-12 col-12"},r.a.createElement("label",{htmlFor:"report_title"},"Report Title"),r.a.createElement("input",{onChange:H,value:a.title,className:"form-control",id:"title",name:"title"}),O("title"))))),r.a.createElement("div",{className:"main-card mb-3 card"},r.a.createElement("div",{className:"card-header"},"You can only change input field name and list")),O("data"),r.a.createElement(l.ReactFormBuilder,{data:u,toolbarItems:a.toolbarItems,onPost:function(e){var a=e.task_data;a.filter((function(e){if(null!=m(e.static))return!0})),d(a)}})),r.a.createElement(o.b,{className:"btn btn-secondary pull-right mr-3",to:"/report-form/"},"Cancel"),"Field Staff"!=a.role&&r.a.createElement("button",{onClick:function(e){e.preventDefault();var n={title:a.title,data:u?JSON.stringify(u):null};f.a.patch("/report/".concat(a.id),n).then((function(e){var a=e.data.message;s()("Success!",a,"success"),setTimeout((function(){window.location.replace("/report-form")}),3e3)})).catch((function(e){var n=e.response.data.message;s()("Warning!",n,"error"),t(p(p({},a),{},{errors:e.response.data.errors}))}))},className:"btn btn-primary pull-right mr-3",style:{marginRight:"10px"},id:"button-save"},"Save Form"))}}}]);