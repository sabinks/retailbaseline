(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{35:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var n=[{key:"Header",name:"Header Text",icon:"fa fa-header",static:!0,content:"Placeholder Text...",canHaveOptionValue:!1,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"Dropdown",canHaveAnswer:!0,name:"Dropdown",icon:"fa fa-caret-square-o-down",label:"Placeholder Label",field_name:"dropdown_",options:[],canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1,dirty:!1},{key:"Tags",canHaveAnswer:!0,name:"Multi-select Dropdown",icon:"fa fa-tags",label:"Placeholder Label",field_name:"tags_",options:[],canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"Checkboxes",canHaveAnswer:!0,name:"Checkboxes",icon:"fa fa-check-square-o",label:"Placeholder Label",field_name:"checkboxes_",options:[],canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"RadioButtons",canHaveAnswer:!0,name:"Radio Buttons",icon:"fa fa-dot-circle-o",label:"Placeholder Label",field_name:"radiobuttons_",options:[],canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"TextInput",canHaveAnswer:!0,name:"Text Input",label:"Placeholder Label",icon:"fa fa-font",field_name:"text_input_",canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"NumberInput",canHaveAnswer:!0,name:"Number Input",label:"Placeholder Label",icon:"fa fa-plus",field_name:"number_input_",canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"TextArea",canHaveAnswer:!0,name:"Multi-line Input",label:"Placeholder Label",icon:"fa fa-text-height",field_name:"text_area_",canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"DatePicker",canDefaultToday:!0,canReadOnly:!0,dateFormat:"MM/dd/yyyy",timeFormat:"hh:mm aa",showTimeSelect:!1,showTimeSelectOnly:!1,name:"Date",icon:"fa fa-calendar",label:"Placeholder Label",field_name:"date_picker_",canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1},{key:"Camera",name:"Camera",icon:"fa fa-camera",label:"Placeholder Label",field_name:"camera_",canHaveOptionValue:!0,canHaveAlternateForm:!1,canHaveOptionCorrect:!1,canHavePageBreakBefore:!1,canHaveDisplayHorizontal:!1}]},640:function(e,a,t){"use strict";t.r(a);var n=t(4),r=t.n(n),o=t(6),i=t(0),l=t.n(i),c=t(25),s=t(35),m=t(18),u=t(5),f=t.n(u);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?p(Object(t),!0).forEach((function(a){v(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function v(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function y(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(t.push(i.value),!a||t.length!==a);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return t}(e,a)||H(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,a){if(e){if("string"==typeof e)return g(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(e,a):void 0}}function g(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}a.default=function(){var e=Object(m.f)(),a=h(Object(i.useState)({form_title:"",client_id:"",toolbarItems:y(s.a),formData:null,errors:[],companies:[],role:""}),2),t=a[0],n=a[1],u=h(Object(i.useState)([]),2),p=u[0],H=u[1],g=function(e){var a=e.target,t=a.name,r=a.value;n((function(e){return b({},e,v({},t,r))}))},O=function(e){if(function(e){return!!t.errors&&t.errors[e]}(e))return"inputs"==e?l.a.createElement("a",{className:"alert alert-danger"},t.errors[e][0]):l.a.createElement("a",{className:"text-danger"},t.errors[e][0])};function _(){$("div.btn-school").addClass(["btn-outline-dark"]),$("input[name=camera_F744BA9F-AB13-4012-BE55-F0467C30A534]").closest(".SortableItem.rfb-item").find(".is-isolated.fa.fa-trash-o").parent().hide(),$("input[name=text_input_DD26AA9E-EEF0-454A-B961-7DEEEF974E35]").closest(".SortableItem.rfb-item").find(".is-isolated.fa.fa-trash-o").parent().hide(),$("input[name=text_input_F8FE64B1-5A21-4770-B218-2C0158FFAD28]").closest(".SortableItem.rfb-item").find(".is-isolated.fa.fa-trash-o").parent().hide()}return Object(i.useEffect)((function(){var e=window.location.pathname.replace("/entities-form/","");r.a.get("/entities-forms/"+e).then((function(e){var a=e.data,t=a.role,r=a.companies,o=a.entitiesForm;o&&(n((function(e){return b({},e,{form_title:o.form_title,client_id:o.clients[0].id,formData:o,companies:r,role:t})})),H(o.inputs),$(".clientSelect").select2({placeholder:"Select Client",allowClear:!0}),$("#client_id").on("change",(function(e){return g(e)})),$("body").on("DOMSubtreeModified",".Sortable",(function(){_()})),_(),$(".Sortable").each((function(){new MutationObserver((function(){_()})).observe(this,{childList:!0,subtree:!0})})),$(".edit-form").each((function(){new MutationObserver((function(){$(".edit-form").find("label").filter((function(){return"Read only"===$(this).text()})).parent().hide(),$(".edit-form .dynamic-option-list .col-sm-2").filter((function(){return"Value"===$(this).text()})).hide(),$(".edit-form").find("label[for=optionsApiUrl]").parent().hide(),$(".edit-form").find('input[name^="value_"]').hide(),$(".edit-form").find(".rdw-editor-toolbar").hide()})).observe(this,{childList:!0,subtree:!0})})))}))}),[]),l.a.createElement(l.a.Fragment,null,t.formData&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"main-card mb-3 card"},l.a.createElement("div",{className:"card-header"},"Update Form using Toolbar ",l.a.createElement("br",null)),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"form-group col-lg-6 col-sm-6 col-12"},l.a.createElement("label",{htmlFor:"form_title"},"Form Title"),l.a.createElement("input",{onChange:g,value:t.form_title,className:"form-control",id:"form_title",name:"form_title"}),O("form_title")),"Super Admin"==t.role&&l.a.createElement("div",{className:"form-group col-lg-6 col-sm-6 col-12 "},l.a.createElement("label",{htmlFor:"client_id"},"Select Company"),l.a.createElement("select",{className:"form-control",value:t.client_id,id:"client_id",name:"client_id",onChange:g},l.a.createElement("option",{value:"0",disabled:!0},"Select Client Company"),t.companies.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.company_name)}))),O("client_id"))))),l.a.createElement("div",{className:"main-card mb-3 card"},l.a.createElement("div",{className:"card-header"},"You can only change input field name and list")),O("inputs"),l.a.createElement(c.ReactFormBuilder,{data:p,toolbarItems:t.toolbarItems,onPost:function(e){var a=e.task_data;a.filter((function(e){if(null!=d(e.static))return!0})),H(a)}})),t.formData?l.a.createElement(l.a.Fragment,null,l.a.createElement(o.b,{className:"btn btn-secondary pull-right mr-3",to:"/entities-form/"},"Cancel"),l.a.createElement("button",{onClick:function(a){a.preventDefault();var o=t.formData,i={form_title:t.form_title,client_id:t.client_id,inputs:JSON.stringify(p)};r.a.put("/entities-forms/"+o.id,i).then((function(a){f()("Success!","Successfully Updated!","success"),e.push("/entities-form")})).catch((function(e){var a=e.response.data.message;f()("Warning!",a||"Something went wrong!","error"),n((function(a){return b({},a,{errors:e.response.data.errors})}))}))},className:"btn btn-primary pull-right",style:{marginRight:"10px"},id:"button-update"},"Update Form")):null)}}}]);